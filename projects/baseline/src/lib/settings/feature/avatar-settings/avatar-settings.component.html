<div class="flex gap-2 items-center w-full">
    <base-avatar
        [image]="avatar()?.publicUrl"
        shape="circle"
        size="xlarge"
        [label]="user()?.name?.at(0)?.toUpperCase()"
    />

    <div class="flex flex-col w-full">
        <span class="font-medium">Your profile picture.</span>
        <span class="text-sm">Size: {{ ((user()?.avatar?.size ?? 0) / 1024 / 1024).toPrecision(3) }}MB</span>
        <span class="text-sm">Last update: {{ user()?.avatar?.uploaded ?? 'unknown' }}</span>
    </div>

    <div class="flex flex-col gap-2 items-center">
        <base-file-upload
            (uploadHandler)="setAvatar($event)"
            [accept]="'image/*'"
            [customUpload]="true"
            [mode]="'basic'"
            [auto]="true"
            [chooseLabel]="'Update'"
            [chooseIcon]="'pi pi-user-edit'"
            [chooseButtonProps]="{ loading: uploading }"
        />

        <base-button
            icon="pi pi-times"
            severity="secondary"
            size="small"
            [disabled]="!avatar()"
            [label]="'Delete'"
            (onClick)="deleteAvatar()"
            [loading]="deleting"
            variant="text"
        />
    </div>





</div>


